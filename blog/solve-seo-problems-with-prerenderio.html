<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.9">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Eric Deng RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Eric Deng Atom Feed">
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-YZ68LNP0FW"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-YZ68LNP0FW",{anonymize_ip:!0})</script><title data-react-helmet="true">Prerender.ioå¦‚ä½•å¹«åŠ©CSRçš„SEO - åŸç†ä»‹ç´¹èˆ‡ä½¿ç”¨æ•™å­¸ | Eric Deng</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://gcdeng.com/blog/solve-seo-problems-with-prerenderio"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_tag" content="default"><meta data-react-helmet="true" property="og:title" content="Prerender.ioå¦‚ä½•å¹«åŠ©CSRçš„SEO - åŸç†ä»‹ç´¹èˆ‡ä½¿ç”¨æ•™å­¸ | Eric Deng"><meta data-react-helmet="true" name="description" content="Client-Side Rendering (CSR) Single Page Application (SPA) æœ€å¸¸é‡åˆ°çš„å•é¡Œå°±æ˜¯ SEOï¼Œè§£æ±ºé€™å€‹å•é¡Œçš„æ–¹æ³•æœ‰å¾ˆå¤šç¨®ï¼Œå…¶ä¸­ä¸€ç¨®ç²å¾— Google æ¨è–¦çš„æ–¹æ³•æ˜¯**Prerender.io**ï¼Œé€™ç¯‡æ–‡ç« å°‡æœƒä»‹ç´¹å®ƒçš„é‹ä½œåŸç†ä»¥åŠå¦‚ä½•é–‹å§‹å°å…¥ä½¿ç”¨ã€‚"><meta data-react-helmet="true" property="og:description" content="Client-Side Rendering (CSR) Single Page Application (SPA) æœ€å¸¸é‡åˆ°çš„å•é¡Œå°±æ˜¯ SEOï¼Œè§£æ±ºé€™å€‹å•é¡Œçš„æ–¹æ³•æœ‰å¾ˆå¤šç¨®ï¼Œå…¶ä¸­ä¸€ç¨®ç²å¾— Google æ¨è–¦çš„æ–¹æ³•æ˜¯**Prerender.io**ï¼Œé€™ç¯‡æ–‡ç« å°‡æœƒä»‹ç´¹å®ƒçš„é‹ä½œåŸç†ä»¥åŠå¦‚ä½•é–‹å§‹å°å…¥ä½¿ç”¨ã€‚"><meta data-react-helmet="true" name="keywords" content="seo,prerender,csr,ssr,ssg,prerender.io,frontend,web"><meta data-react-helmet="true" property="og:image" content="https://gcdeng.com/img/2021-11-07-solve-seo-problems-with-prerenderio-assets/prerenderio.png"><meta data-react-helmet="true" name="twitter:image" content="https://gcdeng.com/img/2021-11-07-solve-seo-problems-with-prerenderio-assets/prerenderio.png"><meta data-react-helmet="true" property="og:type" content="article"><meta data-react-helmet="true" property="article:published_time" content="2021-11-07T00:00:00.000Z"><meta data-react-helmet="true" property="article:author" content="/"><meta data-react-helmet="true" property="article:tag" content="seo,prerender,csr,ssr,ssg,prerender.io,frontend,web"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://gcdeng.com/blog/solve-seo-problems-with-prerenderio"><link data-react-helmet="true" rel="alternate" href="https://gcdeng.com/blog/solve-seo-problems-with-prerenderio" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://gcdeng.com/blog/solve-seo-problems-with-prerenderio" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.500ba198.css">
<link rel="preload" href="/assets/js/runtime~main.d272c089.js" as="script">
<link rel="preload" href="/assets/js/main.e599f59a.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.png" alt="logo" class="themedImage_1VuW themedImage--light_3UqQ"><img src="/img/logo.png" alt="logo" class="themedImage_1VuW themedImage--dark_hz6m"></div><b class="navbar__title">Eric Deng</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog">Blog</a><a class="navbar__item navbar__link" href="/series">Series</a><a class="navbar__item navbar__link" href="/resume">Resume</a></div><div class="navbar__items navbar__items--right"><a href="https://medium.com/@gcdeng" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Medium<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><a href="https://github.com/gcdeng" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><a href="https://www.linkedin.com/in/gcdeng/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_71bT toggle_3Zt9 toggleDisabled_3cF-"><div class="toggleTrack_32Fl" role="button" tabindex="-1"><div class="toggleTrackCheck_3lV7"><span class="toggleIcon_O4iE">ğŸŒœ</span></div><div class="toggleTrackX_S2yS"><span class="toggleIcon_O4iE">ğŸŒ</span></div><div class="toggleTrackThumb_xI_Z"></div></div><input type="checkbox" class="toggleScreenReader_28Tw" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper blog-wrapper blog-post-page"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_2ahu thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_2hhb margin-bottom--md">All posts</div><ul class="sidebarItemList_2xAf"><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/blog/react-hooks">React Hooks ç¸½æ•´ç†ç­†è¨˜</a></li><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/blog/a-guidebook-to-optimize-web-vitals">[å‰ç«¯å„ªåŒ–ç³»åˆ—]Web Vitalså„ªåŒ–æ–¹æ³•æ‡¶äººåŒ…</a></li><li class="sidebarItem_2UVv"><a aria-current="page" class="sidebarItemLink_1RT6 sidebarItemLinkActive_12pM" href="/blog/solve-seo-problems-with-prerenderio">Prerender.ioå¦‚ä½•å¹«åŠ©CSRçš„SEO - åŸç†ä»‹ç´¹èˆ‡ä½¿ç”¨æ•™å­¸</a></li><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/blog/script-tag-async-defer-attributes">[å‰ç«¯å„ªåŒ–ç³»åˆ—] ä½¿ç”¨async, deferå±¬æ€§åŠ é€Ÿç¶²é è¼‰å…¥æ™‚é–“</a></li><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/blog/five-ways-to-defend-against-CSRF-attacks">[è³‡å®‰ç³»åˆ—] é˜²ç¦¦CSRFæ”»æ“Šçš„äº”ç¨®æ–¹æ³•</a></li><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/blog/javascript-deep-dive-into-event-loop">[Javascript] æ·±å…¥äº†è§£äº‹ä»¶è¿´åœˆ(Event Loop)ï¼ŒMacrotaskè·ŸMicrotaskæ˜¯ä»€éº¼ï¼Ÿ</a></li><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/blog/javascript-mutable-vs-immutable-objects">[Javascript] Mutable vs Immutable Objects</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><article itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h1 class="blogPostTitle_GeHD" itemprop="headline">Prerender.ioå¦‚ä½•å¹«åŠ©CSRçš„SEO - åŸç†ä»‹ç´¹èˆ‡ä½¿ç”¨æ•™å­¸</h1><div class="blogPostData_291c margin-vert--md"><time datetime="2021-11-07T00:00:00.000Z" itemprop="datePublished">November 7, 2021</time> Â· <!-- -->9 min read</div><div class="row margin-top--md margin-bottom--sm"><div class="col col--6 authorCol_1R69"><div class="avatar margin-bottom--sm"><a class="avatar__photo-link avatar__photo" href="/"><img class="image_1yU8" src="/img/ericdeng.jpg" alt="Eric Deng"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a itemprop="url" href="/"><span itemprop="name">Eric Deng</span></a></div></div></div></div></div></header><meta itemprop="image" content="https://gcdeng.com/img/2021-11-07-solve-seo-problems-with-prerenderio-assets/prerenderio.png"><div class="markdown" itemprop="articleBody"><p>Client-Side Rendering (CSR) Single Page Application (SPA) æœ€å¸¸é‡åˆ°çš„å•é¡Œå°±æ˜¯ SEOï¼Œè§£æ±ºé€™å€‹å•é¡Œçš„æ–¹æ³•æœ‰å¾ˆå¤šç¨®ï¼Œå…¶ä¸­ä¸€ç¨®ç²å¾— Google æ¨è–¦çš„æ–¹æ³•æ˜¯<strong>Prerender.io</strong>ï¼Œé€™ç¯‡æ–‡ç« å°‡æœƒä»‹ç´¹å®ƒçš„é‹ä½œåŸç†ä»¥åŠå¦‚ä½•é–‹å§‹å°å…¥ä½¿ç”¨ã€‚</p><h2 class="anchor anchorWithStickyNavbar_31ik" id="é–‹å§‹ä¹‹å‰å…ˆèŠèŠ-csr-çš„-seo-å•é¡Œ">é–‹å§‹ä¹‹å‰ï¼Œå…ˆèŠèŠ CSR çš„ SEO å•é¡Œ<a aria-hidden="true" class="hash-link" href="#é–‹å§‹ä¹‹å‰å…ˆèŠèŠ-csr-çš„-seo-å•é¡Œ" title="Direct link to heading">â€‹</a></h2><p>Client-Side Rendering (CSR) æ˜¯éå»å¹¾å¹´æµè¡Œçš„å‰ç«¯é–‹ç™¼æ–¹å¼ï¼Œç€è¦½å™¨æœƒæ”¶åˆ°ä¸€å€‹ body è£¡åªæœ‰æ ¹å…ƒä»¶ä»¥åŠå¼•å…¥æ‰“åŒ…å¥½çš„ JS çš„ HTMLï¼Œè§£æ HTML å¾Œé–‹å§‹ä¸‹è¼‰åŠåŸ·è¡Œ JS å°‡å…§å®¹æ¸²æŸ“é€²æ ¹å…ƒä»¶ä¸­ï¼Œå¤§éƒ¨åˆ†çš„é‹ç®—è³‡æºæœƒé›†ä¸­åœ¨ç€è¦½å™¨ä¸Šï¼Œè€Œæœ€å¤§çš„å•é¡Œæ˜¯æœå°‹å¼•æ“åš SEO çš„çˆ¬èŸ²ä¸¦ä¸æœƒç­‰å¾… AJAX è·Ÿ JS æ¸²æŸ“å¥½å…§å®¹æ‰é–‹å§‹è’é›†è³‡æ–™ï¼Œä»–åªæœƒçœ‹åˆ° HTML ä¸­ä¸€å€‹ç©ºç©ºçš„æ ¹å…ƒä»¶ï¼Œæ²’æœ‰è³‡æ–™å¯ä»¥çµ¦ä»–åš Indexï¼Œé›–ç„¶ Google Search å¾Œä¾†ä¹Ÿæœ‰<a href="https://developers.google.com/search/docs/advanced/javascript/javascript-seo-basics" target="_blank" rel="noopener noreferrer">æ–°çš„çˆ¬èŸ²æ©Ÿåˆ¶</a>è§£æ±ºé€™å€‹å•é¡Œï¼Œä½†çˆ¬èŸ²ä¹Ÿæœ‰<a href="https://prerender.io/crawl-budget-seo/" target="_blank" rel="noopener noreferrer">è³‡æºé ç®—</a>(Crawl Budget)é™åˆ¶ï¼ŒCSR éœ€è¦èŠ±è²»å¤§é‡çˆ¬èŸ²é‹ç®—è³‡æºï¼Œå°è‡´ Index æœƒéœ€è¦å¾ˆå¤šæ™‚é–“ç”šè‡³æœ‰äº›é é¢ä¹Ÿç„¡æ³•åš Indexï¼Œå¦å¤–ä¸€å€‹å•é¡Œæ˜¯ç¤¾äº¤åª’é«”ä¾‹å¦‚ FB, Twitter éœ€è¦çš„<a href="https://ahrefs.com/blog/open-graph-meta-tags/" target="_blank" rel="noopener noreferrer">open graph meta tag</a>å¦‚æœæ˜¯ CSR å‹•æ…‹ç”¢ç”Ÿçš„è©±ä¸€é–‹å§‹ä¹Ÿæœƒæ‹¿ä¸åˆ°ï¼Œæ–¼æ˜¯é–‹å§‹æœ‰äººæå‡ºå¾ˆå¤šäº‹å…ˆæ¸²æŸ“(pre-rendering)å¥½éœæ…‹ HTML å†é€çµ¦ client çš„è§£æ³•ï¼Œä»¥ä¸‹åˆ—èˆ‰å¹¾ç¨®ï¼š</p><ol><li>Pre-build æˆ–ç¨± Static Site Generator (SSG)ï¼Œæ˜¯åœ¨ build-time æº–å‚™å¥½æ¯å€‹è·¯ç”±(Route)éœ€è¦çš„è³‡æ–™ä¸¦å»ºç«‹å‡ºå®Œæ•´çš„éœæ…‹ HTMLï¼Œserver æ”¶åˆ°è«‹æ±‚æ™‚ç›´æ¥å›å‚³å·²ç¶“å»ºç«‹å¥½çš„ HTMLï¼Œå¸¸è¦‹çš„å·¥å…·åŒ…å«<a href="https://github.com/stereobooster/react-snap" target="_blank" rel="noopener noreferrer">react-snap</a>ï¼Œ<a href="https://www.11ty.dev/" target="_blank" rel="noopener noreferrer">Eleventy</a>ï¼Œé€™å€‹æ–¹æ³•çš„å„ªé»åŒ…å«å¯ä»¥åœ¨ CDN cache HTML ç¸®çŸ­è«‹æ±‚å›å‚³æ™‚é–“ä»¥åŠ<a href="https://web.dev/fcp/" target="_blank" rel="noopener noreferrer">First Contentful Paint (FCP)</a>æ™‚é–“ï¼Œç¼ºé»å‰‡æ˜¯å› ç‚ºæ˜¯åœ¨ build-time ç”¢ç”Ÿ HTMLï¼Œæ¯æ¬¡æœ‰å…§å®¹è®Šå‹•éƒ½è¦é‡ buildï¼Œå°æ–¼å…§å®¹è®Šå‹•é »ç‡é«˜çš„ç¶²ç«™æœƒå¾ˆéº»ç…©ï¼Œä¹Ÿæœƒå»¶é•· build çš„æ™‚é–“ã€‚</li><li>Server-Side Rendering (SSR)ï¼Œç›¸å°æ–¼ SSG ä¾†èªªå®ƒå‰‡æ˜¯åœ¨ run-time å»ºç«‹å¥½ HTMLï¼Œç•¶ server æ”¶åˆ°æŸå€‹è·¯ç”±çš„è«‹æ±‚å¾Œé–‹å§‹æº–å‚™éœ€è¦çš„è³‡æ–™ä¸¦å»ºç«‹å¥½ HTML å›å‚³çµ¦ clientï¼Œè§£æ±ºäº† SSG çš„å•é¡ŒåŒæ™‚ç¹¼æ‰¿å…¶å„ªé»ï¼Œä½†ä¹Ÿæœ‰å®ƒæœ¬èº«çš„çš„å•é¡Œï¼Œå°±æ˜¯æœƒæå‡é–‹ç™¼è¤‡é›œåº¦ï¼Œä»¥åŠç¾æœ‰çš„ CSR å°ˆæ¡ˆé›£ä»¥è½‰æ›æˆ SSR æ¶æ§‹ï¼Œå¸¸è¦‹çš„å·¥å…·æ¡†æ¶åŒ…å« React çš„<a href="https://nextjs.org/" target="_blank" rel="noopener noreferrer">Next.js</a>ï¼ŒVue çš„<a href="https://nuxtjs.org/" target="_blank" rel="noopener noreferrer">Nuxt.js</a>ã€‚ï¼ˆä¸éé€™é¡æ¡†æ¶é‚„æ˜¯æœ‰å¾ˆå¤šå¾ˆé¦™çš„ç‰¹è‰²ï¼‰</li><li>Prerender.io</li></ol><h2 class="anchor anchorWithStickyNavbar_31ik" id="prerenderio-é‹ä½œåŸç†---dynamic-rendering">Prerender.io é‹ä½œåŸç† - Dynamic Rendering<a aria-hidden="true" class="hash-link" href="#prerenderio-é‹ä½œåŸç†---dynamic-rendering" title="Direct link to heading">â€‹</a></h2><p><img alt="Screen Shot 2021-11-08 at 11.11.38 AM.png" src="/assets/images/prerenderio-eaa86238665cb1f1713fa10066d9e922.png"></p><p><a href="https://prerender.io/" target="_blank" rel="noopener noreferrer">Prerender.io</a>é‹ä½œæµç¨‹æ˜¯ç•¶å‰ç«¯çš„ web server æ”¶åˆ°è«‹æ±‚æ™‚é€é Prerender-node Middleware å»è¾¨è­˜é€™å€‹è«‹æ±‚æ˜¯å¾ç€è¦½å™¨é‚„æ˜¯å¾çˆ¬èŸ²ç™¼å‡ºçš„ï¼Œå¦‚æœæ˜¯ç€è¦½å™¨å°±ä¾ç…§åŸæœ¬çš„ CSR æ©Ÿåˆ¶ï¼Œå¦‚æœæ˜¯çˆ¬èŸ²æ‰éœ€è¦åš prerenderï¼Œæœƒå§”è¨— Prerender.io cloud service å¹«æˆ‘å€‘æ¸²æŸ“å‡ºéœæ…‹ HTML å†å›å‚³çµ¦ web server ç„¶å¾Œå†å›çµ¦çˆ¬èŸ²ï¼Œé€™æ¨£çš„æ¸²æŸ“æ–¹å¼ç¨±ç‚º<a href="https://developers.google.com/search/docs/advanced/javascript/dynamic-rendering" target="_blank" rel="noopener noreferrer">Dynamic Rendering</a>ã€‚</p><h3 class="anchor anchorWithStickyNavbar_31ik" id="è¾¨è­˜çˆ¬èŸ²çš„æ–¹æ³•">è¾¨è­˜çˆ¬èŸ²çš„æ–¹æ³•<a aria-hidden="true" class="hash-link" href="#è¾¨è­˜çˆ¬èŸ²çš„æ–¹æ³•" title="Direct link to heading">â€‹</a></h3><p>åˆ©ç”¨ request header ä¸­ user-agent çš„å€¼ï¼Œå¦‚æœæ˜¯ google search çš„çˆ¬èŸ²æœƒå¸¶ä¸Š <code>googlebot</code> ï¼Œç›®å‰æ”¯æ´çš„çˆ¬èŸ²æœ‰é€™äº›ï¼š</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly jsx"><pre tabindex="0" class="prism-code language-jsx codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">prerender</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">crawlerUserAgents </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&#x27;googlebot&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&#x27;Yahoo! Slurp&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&#x27;bingbot&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&#x27;yandex&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&#x27;baiduspider&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&#x27;facebookexternalhit&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&#x27;twitterbot&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&#x27;rogerbot&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&#x27;linkedinbot&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&#x27;embedly&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&#x27;quora link preview&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&#x27;showyoubot&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&#x27;outbrain&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&#x27;pinterest/0.&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&#x27;developers.google.com/+/web/snippet&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&#x27;slackbot&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&#x27;vkShare&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&#x27;W3C_Validator&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&#x27;redditbot&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&#x27;Applebot&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&#x27;WhatsApp&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&#x27;flipboard&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&#x27;tumblr&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&#x27;bitlybot&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&#x27;SkypeUriPreview&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&#x27;nuzzel&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&#x27;Discordbot&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&#x27;Google Page Speed&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&#x27;Qwantify&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&#x27;pinterestbot&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&#x27;Bitrix link preview&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&#x27;XING-contenttabreceiver&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&#x27;Chrome-Lighthouse&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&#x27;TelegramBot&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_31ik" id="çˆ¬èŸ²ç²å–éœæ…‹-html-çš„æ–¹æ³•">çˆ¬èŸ²ç²å–éœæ…‹ HTML çš„æ–¹æ³•<a aria-hidden="true" class="hash-link" href="#çˆ¬èŸ²ç²å–éœæ…‹-html-çš„æ–¹æ³•" title="Direct link to heading">â€‹</a></h3><p>æˆ‘å€‘çš„ web server è¦å»æ‰“ Prerender.io æä¾›çš„ GET API ä¸¦å¸¶ä¸Šçˆ¬èŸ²è«‹æ±‚çš„è·¯ç”±ï¼ŒPrerender.io æœƒé–‹ä¸€å€‹<a href="https://developers.google.com/web/updates/2017/04/headless-chrome" target="_blank" rel="noopener noreferrer">Headless Chrome</a>å»è·Ÿæˆ‘å€‘çš„ server è«‹æ±‚è©²è·¯ç”±çš„è³‡æ–™ä¾†æ¸²æŸ“ HTMLï¼Œé€™æ®µå…¶å¯¦ç­‰åŒä½¿ç”¨ Headless Chrome åœ¨åš CSRï¼Œå†é€é HTTP åˆ†å¡Š(chunk)å‚³è¼¸å¾åŸæœ¬çš„ API å›å‚³æ¸²æŸ“å¥½çš„ HTML çµ¦æˆ‘å€‘çš„ serverï¼Œserver æ”¶åˆ°å¾Œå†æŠŠ HTML å›è¦†çµ¦çˆ¬èŸ²çš„è«‹æ±‚ï¼Œå› æ­¤çˆ¬èŸ²å°±å¯ä»¥æ”¶åˆ°æ¸²æŸ“å¥½çš„éœæ…‹ HTML è€Œä¸”ä¸åŒ…å« JS æª”æ¡ˆã€‚</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly jsx"><pre tabindex="0" class="prism-code language-jsx codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">prerender</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function-variable function" style="color:#d73a49">plainResponse</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">response</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> callback</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> content </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  response</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">on</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;data&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">chunk</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    content </span><span class="token operator" style="color:#393A34">+=</span><span class="token plain"> chunk</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  response</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">on</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;end&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    response</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">body </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> content</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">callback</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">null</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> response</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_31ik" id="å¦‚ä½•é–‹å§‹ä½¿ç”¨">å¦‚ä½•é–‹å§‹ä½¿ç”¨<a aria-hidden="true" class="hash-link" href="#å¦‚ä½•é–‹å§‹ä½¿ç”¨" title="Direct link to heading">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_31ik" id="åœ¨-dev-ç’°å¢ƒ">åœ¨ Dev ç’°å¢ƒ<a aria-hidden="true" class="hash-link" href="#åœ¨-dev-ç’°å¢ƒ" title="Direct link to heading">â€‹</a></h3><p>å…ˆåœ¨ local è·‘ä¸€å°<a href="https://github.com/prerender/prerender" target="_blank" rel="noopener noreferrer">Prerender Node Server</a>ï¼Œå‡è¨­é–‹èµ·ä¾†çš„ URL æ˜¯ <code>http://localhost:3000</code></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">git</span><span class="token plain"> clone https://github.com/prerender/prerender.git</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">cd</span><span class="token plain"> prerender</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">npm</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">node server.js</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>å®˜æ–¹æœ‰æä¾›å¤šç¨®èªè¨€çš„ open source server <a href="https://docs.prerender.io/article/12-middlewares" target="_blank" rel="noopener noreferrer">middleware</a>ï¼Œå¯ä»¥æŠŠå®ƒå®‰è£é€²æˆ‘å€‘çš„å‰ç«¯ web server ä¸­ï¼Œå¦‚æœä½ çš„ server æ˜¯ Node.js çš„è©±å¯ä»¥ç”¨<a href="https://github.com/prerender/prerender-node" target="_blank" rel="noopener noreferrer">prerender-node</a></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">npm</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> prerender-node --save</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>å¼•å…¥ middleware</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly jsx"><pre tabindex="0" class="prism-code language-jsx codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">app</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">use</span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;prerender-node&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>middleware ä¸­æœƒè®€å–ç’°å¢ƒè®Šæ•¸ <code>process.env.PRERENDER_SERVICE_URL</code> æ‰€ä»¥å¯ä»¥æŠŠå®ƒè¨­ç‚º <code>http://localhost:3000</code> ï¼Œæˆ–æ˜¯ç›´æ¥è¨­å®š middleware çš„ <code>prerenderServiceUrl</code></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly jsx"><pre tabindex="0" class="prism-code language-jsx codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> prerenderServiceUrl </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;http://localhost:3000&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">app</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">use</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;prerender-node&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">set</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;prerenderServiceUrl&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> prerenderServiceUrl</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>åŸ·è¡Œ curl æˆ–æ˜¯ä½¿ç”¨ browser extensionï¼Œä¾‹å¦‚<a href="https://chrome.google.com/webstore/detail/modheader/idgpnmonknjnojddfkpgkljpfnnfcklj?hl=zh-TW" target="_blank" rel="noopener noreferrer">ModHeader</a>ï¼Œåœ¨ header ä¸­åŠ å…¥ user-agent: <code>Googlebot</code>ï¼Œå»æ‰“ä½ çš„ service æŸå€‹é é¢è·¯ç”±ï¼Œå‡è¨­ <code>https://www.example.com/</code></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">curl</span><span class="token plain"> -A Googlebot https://www.example.com/</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>ä½ çš„ server æ”¶åˆ°è«‹æ±‚å¾Œï¼Œmiddleware å¦‚æœåˆ¤æ–·æ˜¯çˆ¬èŸ²å°±æœƒå»æ‰“ GET <code>http://localhost:3000/https://www.example.com/</code> ï¼Œè«‹æ±‚ Prerender Node Server æ¸²æŸ“ HTMLï¼Œä¹‹å¾Œå°±å¯ä»¥æ”¶åˆ°ä¸€å€‹å®Œæ•´æ¸²æŸ“å¥½æ²’æœ‰ script tag çš„éœæ…‹ HTMLã€‚</p><h3 class="anchor anchorWithStickyNavbar_31ik" id="åœ¨-stage-ç’°å¢ƒ">åœ¨ Stage ç’°å¢ƒ<a aria-hidden="true" class="hash-link" href="#åœ¨-stage-ç’°å¢ƒ" title="Direct link to heading">â€‹</a></h3><p>åœ¨<a href="https://prerender.io/" target="_blank" rel="noopener noreferrer">Prerender.io</a>å®˜ç¶²è¨»å†Šæ–°å¸³è™Ÿæ‹¿åˆ° tokenï¼Œmiddleware ä¸­æœƒè®€å–ç’°å¢ƒè®Šæ•¸ <code>process.env.PRERENDER_TOKEN</code> å¯ä»¥æŠŠä»–è¨­å®šç‚ºä½ çš„ tokenï¼Œæˆ–æ˜¯ç›´æ¥è¨­å®šä»¥ä¸‹çš„ <code>prerenderToken</code>ã€‚</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly jsx"><pre tabindex="0" class="prism-code language-jsx codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">app</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">use</span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;prerender-node&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">set</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;prerenderToken&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;YOUR_TOKEN&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>é€šå¸¸ Stage server ä¸æœƒå°å¤–å…¬é–‹ï¼Œéœ€è¦å…ˆè¨­å®šç™½åå–®å…è¨±<a href="https://docs.prerender.io/article/22-ip-addresses" target="_blank" rel="noopener noreferrer">Prerender.io çš„ IP</a>ï¼Œè®“ä»–å€‘çš„ cloud service å¯ä»¥æ‰“é€² Stage server è«‹æ±‚é é¢è³‡æ–™ï¼Œå†ç…§è‘—ä¸€æ¨£çš„æ–¹æ³•å¸¶è‘—çˆ¬èŸ²çš„ user-agent å»æ‰“ä½ çš„ serviceï¼Œmiddleware æœƒå» GET <code>https://service.prerender.io/https://www.example.com/</code> ï¼Œè«‹æ±‚ cloud service æ¸²æŸ“ HTMLï¼Œä¹‹å¾Œå°±å¯ä»¥çœ‹åˆ° stage ç’°å¢ƒä¸‹çš„ prerendered HTMLï¼Œåœ¨å®˜ç¶²çš„ Dashboard ä¸Šä¹Ÿå¯ä»¥çœ‹åˆ°çˆ¬èŸ²è«‹æ±‚ç´€éŒ„ä»¥åŠè¢« cache çš„é é¢ã€‚</p><p>Stage è·Ÿ Production ä¹Ÿå¯ä»¥è€ƒæ…®ä¸ç”¨ä»–å€‘çš„ cloud serviceï¼Œè€Œæ˜¯å…§éƒ¨ç¶­è­·<a href="https://github.com/prerender/prerender" target="_blank" rel="noopener noreferrer">Prerender Node Server</a>ï¼Œåœ¨ middleware è¨­å®šå¥½ prerenderServiceUrl æ‰“åˆ°è‡ªå·±çš„ Prerender Node Serverã€‚</p><h2 class="anchor anchorWithStickyNavbar_31ik" id="prerenderio-çš„å„ªç¼ºé»">Prerender.io çš„å„ªç¼ºé»<a aria-hidden="true" class="hash-link" href="#prerenderio-çš„å„ªç¼ºé»" title="Direct link to heading">â€‹</a></h2><p>å„ªé»</p><ul><li>å¯¦ä½œèµ·ä¾†æ¯”å…¶ä»–è§£æ³•æ›´ç°¡å–®å¿«é€Ÿï¼Œåªè¦è¨­å®š server middlewareã€‚</li><li>ä»»ä½•ç¾æœ‰ CSR å‰ç«¯æ¡†æ¶ React, Vue, Angular éƒ½å¯ä»¥ç›´æ¥ä½¿ç”¨ã€‚</li><li>ä»‹é¢ä¸éŒ¯çš„ Dashboardã€‚</li><li>Cloud service æœ‰ cache æ©Ÿåˆ¶ï¼Œå¯ä»¥åœ¨ dashboard ä¸Šè¨­å®š cache æ™‚é–“ï¼Œå¦‚æœæœ‰ç‰¹åˆ¥é é¢éœ€æ±‚ä¹Ÿæœ‰æä¾›å»ºç«‹è·Ÿæ¸…é™¤ cache çš„ APIã€‚</li></ul><p>ç¼ºé»</p><ul><li><a href="https://prerender.io/pricing/" target="_blank" rel="noopener noreferrer">é¡å¤–é›²ç«¯æœå‹™æˆæœ¬</a>æˆ–æ˜¯è‡ªå·±ç¶­é‹<a href="https://github.com/prerender/prerender" target="_blank" rel="noopener noreferrer">Prerender Node Server</a>æˆæœ¬ï¼Œä¸éé€™é …å°æ–¼ä»»ä½• SSR æ–¹å¼æˆ–å¤šæˆ–å°‘éƒ½æœƒæœ‰ã€‚</li></ul><h2 class="anchor anchorWithStickyNavbar_31ik" id="ç¸½çµ">ç¸½çµ<a aria-hidden="true" class="hash-link" href="#ç¸½çµ" title="Direct link to heading">â€‹</a></h2><p>é€™ç¯‡æ–‡ç« è¬›è§£äº† CSR é‡åˆ°çš„å•é¡Œèˆ‡ SSGã€SSRã€Prerender.io ä¸‰ç¨®è§£æ±ºæ–¹æ¡ˆï¼Œé‡å° Prerender.io ä»‹ç´¹å®ƒçš„é‹ä½œåŸç† Dynamic Renderingã€middleware ä½¿ç”¨æ–¹å¼ä»¥åŠå„ªç¼ºé»æ¯”è¼ƒï¼Œæ•´é«”ä¾†èªªæˆ‘è¦ºå¾— Prerender.io æ˜¯ä»‹æ–¼ SSG èˆ‡ SSR ä¹‹é–“è§£æ±º SEO å•é¡Œçš„æŠ˜è¡·æ–¹æ¡ˆï¼Œå¦‚æœæ˜¯ä»¥ä¸‹æƒ…å¢ƒï¼š</p><ol><li>å…·æœ‰ä¸€å®šè¦æ¨¡çš„ CSR SPA å°ˆæ¡ˆè½‰æ› SSR æ¶æ§‹æˆæœ¬éé«˜</li><li>ç¶²ç«™å…§å®¹è®Šæ›´é »ç‡é«˜</li><li>åªæƒ³å„ªåŒ– SEO</li></ol><p>é€™äº›æƒ…æ³ä¸‹ Prerender.io æœƒæ˜¯å€‹å»ºè­°å¯ä»¥è€ƒæ…®çš„è§£æ³•ï¼Œé‚„æœ‰å…¶ä»–æ›´å¤šç´°ç¯€ä¹Ÿå¯ä»¥åˆ°ä»–å€‘çš„å®˜æ–¹æ–‡ä»¶çœ‹çœ‹ã€‚</p><p>å¦‚æœæœ‰ä»»ä½•å•é¡Œæˆ–å»ºè­°æ­¡è¿èˆ‡æˆ‘è¯çµ¡è¨è«–ã€‚</p><h2 class="anchor anchorWithStickyNavbar_31ik" id="reference">Reference<a aria-hidden="true" class="hash-link" href="#reference" title="Direct link to heading">â€‹</a></h2><p><a href="https://prerender.io/" target="_blank" rel="noopener noreferrer">Render Javascript With Search Engines in Mind | Prerender</a></p><p><a href="https://docs.prerender.io/" target="_blank" rel="noopener noreferrer">Prerender.io Knowledge Base</a></p><p><a href="https://github.com/prerender/prerender" target="_blank" rel="noopener noreferrer">https://github.com/prerender/prerender</a></p><p><a href="https://github.com/prerender/prerender-node" target="_blank" rel="noopener noreferrer">https://github.com/prerender/prerender-node</a></p><p><a href="https://developers.google.com/search/docs/advanced/javascript/dynamic-rendering" target="_blank" rel="noopener noreferrer">Dynamic Rendering | Google Search Central | Google Developers</a></p><p><a href="https://developers.google.com/search/docs/advanced/javascript/javascript-seo-basics" target="_blank" rel="noopener noreferrer">Understand JavaScript SEO Basics | Google Search Central</a></p><p><a href="https://prerender.io/crawl-budget-seo/" target="_blank" rel="noopener noreferrer">Crawl Budget Optimization | Improve Crawl Health | Prerender</a></p><p><a href="https://developers.google.com/web/updates/2017/04/headless-chrome" target="_blank" rel="noopener noreferrer">Getting Started with Headless Chrome | Web | Google Developers</a></p></div><footer class="row docusaurus-mt-lg blogPostDetailsFull_3kfx"><div class="col"><b>Tags:</b><ul class="tags_2ga9 padding--none margin-left--sm"><li class="tag_11ep"><a class="tag_1Okp tagRegular_3MiF" href="/blog/tags/seo">seo</a></li><li class="tag_11ep"><a class="tag_1Okp tagRegular_3MiF" href="/blog/tags/prerender">prerender</a></li><li class="tag_11ep"><a class="tag_1Okp tagRegular_3MiF" href="/blog/tags/csr">csr</a></li><li class="tag_11ep"><a class="tag_1Okp tagRegular_3MiF" href="/blog/tags/ssr">ssr</a></li><li class="tag_11ep"><a class="tag_1Okp tagRegular_3MiF" href="/blog/tags/ssg">ssg</a></li><li class="tag_11ep"><a class="tag_1Okp tagRegular_3MiF" href="/blog/tags/prerender-io">prerender.io</a></li><li class="tag_11ep"><a class="tag_1Okp tagRegular_3MiF" href="/blog/tags/frontend">frontend</a></li><li class="tag_11ep"><a class="tag_1Okp tagRegular_3MiF" href="/blog/tags/web">web</a></li></ul></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/blog/a-guidebook-to-optimize-web-vitals"><div class="pagination-nav__sublabel">Newer Post</div><div class="pagination-nav__label">Â« <!-- -->[å‰ç«¯å„ªåŒ–ç³»åˆ—]Web Vitalså„ªåŒ–æ–¹æ³•æ‡¶äººåŒ…</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/blog/script-tag-async-defer-attributes"><div class="pagination-nav__sublabel">Older Post</div><div class="pagination-nav__label">[å‰ç«¯å„ªåŒ–ç³»åˆ—] ä½¿ç”¨async, deferå±¬æ€§åŠ é€Ÿç¶²é è¼‰å…¥æ™‚é–“<!-- --> Â»</div></a></div></nav></main><div class="col col--2"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#é–‹å§‹ä¹‹å‰å…ˆèŠèŠ-csr-çš„-seo-å•é¡Œ" class="table-of-contents__link toc-highlight">é–‹å§‹ä¹‹å‰ï¼Œå…ˆèŠèŠ CSR çš„ SEO å•é¡Œ</a></li><li><a href="#prerenderio-é‹ä½œåŸç†---dynamic-rendering" class="table-of-contents__link toc-highlight">Prerender.io é‹ä½œåŸç† - Dynamic Rendering</a><ul><li><a href="#è¾¨è­˜çˆ¬èŸ²çš„æ–¹æ³•" class="table-of-contents__link toc-highlight">è¾¨è­˜çˆ¬èŸ²çš„æ–¹æ³•</a></li><li><a href="#çˆ¬èŸ²ç²å–éœæ…‹-html-çš„æ–¹æ³•" class="table-of-contents__link toc-highlight">çˆ¬èŸ²ç²å–éœæ…‹ HTML çš„æ–¹æ³•</a></li></ul></li><li><a href="#å¦‚ä½•é–‹å§‹ä½¿ç”¨" class="table-of-contents__link toc-highlight">å¦‚ä½•é–‹å§‹ä½¿ç”¨</a><ul><li><a href="#åœ¨-dev-ç’°å¢ƒ" class="table-of-contents__link toc-highlight">åœ¨ Dev ç’°å¢ƒ</a></li><li><a href="#åœ¨-stage-ç’°å¢ƒ" class="table-of-contents__link toc-highlight">åœ¨ Stage ç’°å¢ƒ</a></li></ul></li><li><a href="#prerenderio-çš„å„ªç¼ºé»" class="table-of-contents__link toc-highlight">Prerender.io çš„å„ªç¼ºé»</a></li><li><a href="#ç¸½çµ" class="table-of-contents__link toc-highlight">ç¸½çµ</a></li><li><a href="#reference" class="table-of-contents__link toc-highlight">Reference</a></li></ul></div></div></div></div></div><footer class="footer"><div class="container"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2024 Eric Deng. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.d272c089.js"></script>
<script src="/assets/js/main.e599f59a.js"></script>
</body>
</html>